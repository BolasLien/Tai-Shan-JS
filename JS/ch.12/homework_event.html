<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #board {
            width: 200px;
            height: 200px;
            margin: auto;
        }

        .controller {
            width: 200px;
            /* height: 200px; */
            border-radius: 3px;
            box-shadow: 0px 0px 20px #999;
            margin: 20px auto;
            padding: 5px;
        }
    </style>
</head>

<body>

    <div id="board"></div>
    <div class="controller">

        <input type="range" min="0" max="255" step="1" class="bar" value="0">
        <button class="btn">隨機</button>
        <div class="text">0</div>

        <input type="range" min="0" max="255" step="1" class="bar" value="0">
        <button class="btn">隨機</button>
        <div class="text">0</div>

        <input type="range" min="0" max="255" step="1" class="bar" value="0">
        <button class="btn">隨機</button>
        <div class="text">0</div>

        <button id="randbtn">隨機顏色</button>
    </div>

    </div>

    <script>
        const board = document.getElementById('board')
        const bars = document.getElementsByClassName("bar");
        const btns = document.getElementsByClassName("btn");
        const texts = document.getElementsByClassName("text");
        const randbtn = document.getElementById("randbtn");

        const rand = (min, max) => {
            return Math.round(Math.random() * (max - min) + min);
        }

        randbtn.onclick = () => {
            for (let i = 0; i < 3; i++) {
                let r = rand(0, 255);
                bars[i].value = r;
                texts[i].innerText = r;
            }

            board.style.background = `rgb(${bars[0].value},${bars[1].value},${bars[2].value})`
        }

        for (let i in btns) {
            btns[i].onclick = () => {
                let r = rand(0, 255);
                bars[i].value = r;
                texts[i].innerText = r;
                board.style.background = `rgb(${bars[0].value},${bars[1].value},${bars[2].value})`
            }
        }

        for (let i in bars) {
            bars[i].oninput = () => {
                let r = bars[i].value;
                texts[i].innerText = r;
                board.style.background = `rgb(${bars[0].value},${bars[1].value},${bars[2].value})`
            }
        }

        board.style.background = `rgb(${bars[0].value},${bars[1].value},${bars[2].value})`

    </script>
</body>

</html>